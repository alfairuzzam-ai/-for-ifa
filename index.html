<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For You ğŸ¤</title>

<!-- FONT ESTETIK -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:'Poppins',sans-serif;
  color:#fff;
  overflow:hidden;
  background:#000;
}

/* BACKGROUND */
#bg{
  position:fixed;
  inset:0;
  z-index:-2;
  transition:1.5s ease;
  background:linear-gradient(135deg,#ff7aa2,#ff4d6d);
}
#bg.photo{
  filter:blur(10px) brightness(.55);
}

/* CONTAINER */
.container{
  max-width:420px;
  min-height:100vh;
  margin:auto;
  padding:20px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
}

/* SLIDER */
.slider{
  width:100%;
  height:260px;
  margin:15px 0;
  border-radius:16px;
  overflow:hidden;
  position:relative;
  display:none;
}
.slide{
  position:absolute;
  inset:0;
  background-size:contain;
  background-position:center;
  background-repeat:no-repeat;
  opacity:0;
  animation:fadeSlide 72s infinite;
}

/* delay 6 detik per foto (12 foto = 72s) */
.slide:nth-child(1){animation-delay:0s}
.slide:nth-child(2){animation-delay:6s}
.slide:nth-child(3){animation-delay:12s}
.slide:nth-child(4){animation-delay:18s}
.slide:nth-child(5){animation-delay:24s}
.slide:nth-child(6){animation-delay:30s}
.slide:nth-child(7){animation-delay:36s}
.slide:nth-child(8){animation-delay:42s}
.slide:nth-child(9){animation-delay:48s}
.slide:nth-child(10){animation-delay:54s}
.slide:nth-child(11){animation-delay:60s}
.slide:nth-child(12){animation-delay:66s}

@keyframes fadeSlide{
  0%{opacity:0}
  5%{opacity:1}
  45%{opacity:1}
  50%{opacity:0}
  100%{opacity:0}
}

/* BUTTON */
.btn{
  margin-top:20px;
  padding:12px 30px;
  border:none;
  border-radius:30px;
  background:#fff;
  color:#ff4d6d;
  font-size:16px;
  transition:.4s;
}
.fade{
  opacity:0;
  transform:translateY(10px);
}

/* TEXT */
#content{
  line-height:1.7;
  margin-top:10px;
  white-space:pre-line;
}

/* LILIN */
.candles{
  font-size:44px;
  display:flex;
  gap:16px;
  align-items:center;
}
.flame{cursor:pointer}
.dead{opacity:.3;pointer-events:none}

/* PILIHAN */
.choice{
  display:flex;
  gap:15px;
  margin-top:15px;
}
.choice button{
  padding:10px 26px;
  border:none;
  border-radius:25px;
  font-size:14px;
}
.yes{background:#ff6fa5;color:#fff}
.no{background:#444;color:#fff}

/* HEART */
.heart{
  position:fixed;
  bottom:0;
  font-size:22px;
  animation:fly 3s forwards;
}
@keyframes fly{
  to{transform:translateY(-120vh);opacity:0}
}
</style>
</head>

<body>

<div id="bg"></div>

<div class="container">

<!-- STAGE 1 -->
<div id="stage1">
  <p>Pencet tombol mulainya ya sayang,<br>janji dehâ€¦ kamu nggak bakal nyesel kok ğŸ¤</p>
  <button class="btn" onclick="next()">Mulai ğŸ’—</button>
</div>

<!-- SLIDESHOW 12 FOTO (FORMAT SESUAI REQUEST) -->
<div class="slider" id="slider">
  <div class="slide" style="background-image:url('foto1.jpeg')"></div>
  <div class="slide" style="background-image:url('foto2.jpeg')"></div>
  <div class="slide" style="background-image:url('foto3.jpg')"></div>
  <div class="slide" style="background-image:url('foto4.jpg')"></div>
  <div class="slide" style="background-image:url('foto5.jpg')"></div>
  <div class="slide" style="background-image:url('foto6.jpg')"></div>
  <div class="slide" style="background-image:url('foto7.jpg')"></div>
  <div class="slide" style="background-image:url('foto8.jpg')"></div>
  <div class="slide" style="background-image:url('foto9.jpeg')"></div>
  <div class="slide" style="background-image:url('foto10.jpeg')"></div>
  <div class="slide" style="background-image:url('foto11.jpeg')"></div>
  <div class="slide" style="background-image:url('foto12.jpeg')"></div>
</div>

<div id="content"></div>
<button class="btn" id="btn" style="display:none" onclick="next()">Lanjut ğŸ’•</button>

</div>

<!-- AUDIO -->
<audio id="romantis" src="romantis.mp3"></audio>
<audio id="birthday" src="happybirthday.mp3"></audio>
<audio id="lagu3" src="lagu3.mp3"></audio>

<script>
let stage=1, blown=0;
const bg=document.getElementById("bg");
const slider=document.getElementById("slider");
const content=document.getElementById("content");
const btn=document.getElementById("btn");

/* FOTO FOTBAR STAGE AKHIR */
const fotbar = [
  "foto3.jpg",
  "foto4.jpg",
  "foto5.jpg",
  "foto12.jpeg"
];
let fbIndex=0;

/* FLOW */
function next(){
  btn.classList.add("fade");
  setTimeout(()=>{
    stage++;
    btn.classList.remove("fade");

    if(stage===2){
      bg.classList.add("photo");
      bg.style.background="url('foto12.jpeg') center/cover no-repeat";
      slider.style.display="block";
      romantis.currentTime=6; romantis.play();
      content.innerHTML="ğŸ‰ Selamat Ulang Tahun ğŸ‚\nPelan-pelan yaaâ€¦ aku di sini nemenin kamu ğŸ¤";
      btn.style.display="block";
    }
    else if(stage===3){
      content.innerHTML="Dikit lagiâ€¦\njangan capek yaa, aku nunggu kamu ğŸ«¶";
    }
    else if(stage===4){
      content.innerHTML="Hampir sampaiâ€¦\njanji deh, bagian ini bikin kamu senyum ğŸ˜Š";
    }
    else if(stage===5){
      content.innerHTML="Nahâ€¦ sekarang fokus yaa sayang,\nini bagian paling penting ğŸ’–";
    }
    else if(stage===6){
      btn.style.display="none";
      content.innerHTML=`Tiup lilinnya ya ğŸ”¥
<div class="candles">
  <span class="flame" onclick="blow(this)">ğŸ”¥</span>
  <b>18</b>
  <span class="flame" onclick="blow(this)">ğŸ”¥</span>
</div>`;
    }
  },400);
}

/* LILIN */
function blow(el){
  el.classList.add("dead");
  el.innerHTML="ğŸ’¨";
  blown++;
  if(blown===2) setTimeout(question,800);
}

/* PERTANYAAN */
function question(){
  content.innerHTML=`Kamu sayang aku kan?
<div class="choice">
  <button class="yes" onclick="yes()">IYA ğŸ’–</button>
  <button class="no" onclick="no()">TIDAK ğŸ’”</button>
</div>`;
}

function no(){
  content.innerHTML="Kok nggak sayang ğŸ˜”\nkemarin katanya sayang banget\ncoba jujur yaaâ€¦";
  setTimeout(question,2000);
}

function yes(){
  for(let i=0;i<20;i++){
    let h=document.createElement("div");
    h.className="heart";
    h.innerText="ğŸ’–";
    h.style.left=Math.random()*100+"vw";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),3000);
  }
  romantis.pause();
  setTimeout(ultah,1200);
}

/* ULTAH */
function ultah(){
  slider.style.display="none";
  birthday.currentTime=8; birthday.play();
  content.innerHTML="";
  typeText();
}

const pesan=`Selamat ulang tahun, sayangku ğŸ¤

Hari ini hari yang spesial,
hari lahir seseorang yang paling aku sayang.
Aku bersyukur bisa ada di hidup kamu
dan merayakan hari ini bareng kamu.

Di umur kamu yang ke-18 ini,
aku berdoa semoga kamu selalu sehat,
panjang umur, rezekinya lancar,
dan setiap langkah hidupmu dipermudah.

Semoga urusan kuliah kamu dimudahkan,
belajar makin rajin,
dan selalu nurut serta berbakti pada orang tua.

Terima kasih sudah hadir di hidupku.
Aku ingin terus tumbuh bareng kamu
dan berjalan bersama sampai akhir hayat nanti.
Aku sayang kamu ğŸ¤

â€” fayruz zam`;

let i=0;
function typeText(){
  if(i<pesan.length){
    content.innerHTML+=pesan.charAt(i++);
    setTimeout(typeText,90);
  }else{
    setTimeout(finalStage,1500);
  }
}

/* FINAL FOTBAR */
function finalStage(){
  birthday.pause();
  lagu3.currentTime=10; lagu3.play();

  content.innerHTML=`sayang baca ini yaa...

Kalau capek, pulang ke aku.
Kalau sedih, cerita ke aku.
Kalau seneng, bagi ke aku juga.
kita harus bareng terus.

Kita usahakan rumah itu yaâ€¦
tempat paling tenang,
tempat aku dan kamu saling jaga.

Aku sayang kamu,
jangan kemana-mana ğŸ¤`;

  bg.classList.remove("photo");
  bg.style.filter="none";
  bg.style.background=`url('${fotbar[0]}') center/cover no-repeat`;

  setInterval(()=>{
    fbIndex=(fbIndex+1)%fotbar.length;
    bg.style.opacity=0;
    setTimeout(()=>{
      bg.style.background=`url('${fotbar[fbIndex]}') center/cover no-repeat`;
      bg.style.opacity=1;
    },600);
  },6000);
}
</script>

</body>
</html>
